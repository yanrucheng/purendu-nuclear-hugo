<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="{{ "/" | relLangURL }}">
      <span class="brand-name">{{ .Site.Params.brandName }}</span>
      <span class="brand-tagline">{{ .Site.Params.brandTagline }}</span>
    </a>
    <nav class="main-nav">
      <ul>
        {{ range site.Menus.main }}
        <li><a href="{{ .URL | relLangURL }}"{{ if .Pre }} aria-label="{{ .Pre }}"{{ end }}>{{ .Name }}</a></li>
        {{ end }}
      </ul>
    </nav>
    {{ $languages := .Site.Languages }}
    {{ $hasAlternates := gt (len $languages) 1 }}
    <details class="language-switcher"{{ if not $hasAlternates }} hidden{{ end }}>
      <summary class="language-toggle" aria-label="Language">
        {{ .Site.Language.LanguageName }}
      </summary>
      {{ if $hasAlternates }}
      <ul class="language-menu">
        {{ range .AllTranslations }}
        {{ if ne .Language.Lang $.Language.Lang }}
        <li><a href="{{ .Permalink }}" hreflang="{{ .Language.Lang }}">{{ .Language.LanguageName }}</a></li>
        {{ end }}
        {{ end }}
        {{ if not .AllTranslations }}
        {{ range $languages }}
        {{ if ne .Lang $.Site.Language.Lang }}
        <li><a href="{{ .Lang | absLangURL }}" hreflang="{{ .Lang }}">{{ .LanguageName }}</a></li>
        {{ end }}
        {{ end }}
        {{ end }}
      </ul>
      {{ end }}
    </details>
  </div>
</header>
